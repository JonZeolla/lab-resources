---
- name: Ensure supported OS
  ansible.builtin.assert:
    that:
      - ansible_os_family in ['Debian', 'RedHat']
    fail_msg: "This playbook only supports Debian and RedHat based systems."
  run_once: true

- ansible.builtin.include_role:
    name: docker

- name: Install docker compose
  ansible.builtin.package:
    name:
      - docker-compose-plugin
    state: latest
